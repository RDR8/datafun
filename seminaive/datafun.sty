\usepackage{amssymb,amsmath,amsthm}
\usepackage{latexsym}

\usepackage{url}
\usepackage{hyperref}

%% uses the AMS Euler math font.
\usepackage{euler}

%% for coloneqq
\usepackage{mathtools}

%% for \underaccent
\usepackage{accents}

% for semantic brackets
\usepackage{stmaryrd}

% for inference rules
\usepackage{proof}

%% for mathpar environment
\usepackage{mathpartir}

% for \scalebox, \rotatebox
\usepackage{graphicx}

%% for colors
%% must be loaded before tikz in order for options to take effect :/
\usepackage[dvipsnames]{xcolor}

\usepackage{tikz}
\usepackage{tikz-cd}


%% My commands
\newcommand{\todo}[1]{\noindent{\color{red}#1}}
\newcommand{\TODO}{\todo{TODO}}

\newcommand{\ms}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\mb}[1]{\ensuremath{\mathbf{#1}}}
\newcommand{\mi}[1]{\ensuremath{\mathit{#1}}}
\newcommand{\mc}[1]{\ensuremath{\mathcal{#1}}}
\newcommand{\fname}{\ms}
\newcommand{\ent}{\vdash}
\newcommand{\fn}{\lambda}
\newcommand{\binder}{.\,}
\newcommand{\bind}[1]{{#1}\binder}
\newcommand{\pipe}{\hspace{0.5em}|\hspace{0.5em}}
\newcommand{\of}{\,{:}\,}
\newcommand{\widevec}[1]{\overrightarrow{#1}}
\newcommand{\finsubseteq}{\subseteq_{\text{fin}}}

\newcommand{\bnfeq}{\dblcolon=}
\newcommand{\defeq}{\overset{\ms{def}}{=}}


%% judgments & rules
\newcommand{\GP}{\Psi}
\newcommand{\GD}{\Delta}
\newcommand{\GG}{\Gamma}
\newcommand{\J}[4]{\dt{#1};\,\mt{#2}\ent {#3}:{#4}}

\newcommand{\is}[1]{~\ms{#1}}

%% tones: discrete and monotone
\newcommand{\dt}[1]{{\color{RedOrange}{#1}}}
\newcommand{\mt}[1]{{\color{blue}{#1}}}

%% types
\newcommand{\N}{\mathbb{N}}
\newcommand{\tbool}{2}
\newcommand{\tzero}{0}
\newcommand{\tunit}{1}
\newcommand{\x}{\times}
\newcommand{\Disc}[1]{\square{#1}}
\newcommand{\Set}[1]{\{{#1}\}}
\newcommand{\Seteq}[1]{\Set{\eq{#1}}}
%% discrete/monotone \to
\newcommand{\dto}{\to}
\newcommand{\mto}{\overset{+\:}{\to}}
\newcommand{\Pfin}{\mc{P}_{\ms{fin}}}
%% lexical types
\newcommand{\lsum}{\lhd}
\newcommand{\lprod}{\mathop{\x_\lhd}}
\newcommand{\under}[2]{\underaccent{\mathit{#1}}{#2}}

%% typeclasses
\newcommand{\eq}[1]{\under{dec}{#1}}
\newcommand{\fin}[1]{\under{fin}{#1}}
\newcommand{\lat}[1]{\under{lat}{#1}}
\newcommand{\acc}[1]{\under{acc}{#1}}
\newcommand{\eltacc}[1]{\under{acc\le}{#1}}
\newcommand{\eqlat}[1]{\under{dec,lat}{#1}}
\newcommand{\fixtype}[1]{\under{fix}{#1}}
\newcommand{\fixletype}[1]{\under{fix\le}{#1}}

\renewcommand{\eqlat}[1]{\under{dl}{#1}}

%% \renewcommand{\eq}[1]{\under{\mathcal{D}}{#1}}
%% \renewcommand{\fin}[1]{\under{\mathcal{F}}{#1}}
%% \renewcommand{\lat}[1]{\under{\mathcal{L}}{#1}}
%% \renewcommand{\acc}[1]{\under{\mathcal{A}}{#1}}
%% \renewcommand{\eqlat}[1]{\under{\mathcal{D}\cap\mathcal{L}}{#1}}
%% \renewcommand{\fixtype}[1]{\under{\mathcal{X}}{#1}}

%% patterns
\newcommand{\pwild}{\underline{\phantom{x}}}

%% expressions
% \d for discrete, \m for monotone variables
\renewcommand{\d}[1]{\ensuremath{\mathbf{\dt{#1}}}}
\newcommand{\m}[1]{\ensuremath{\mt{\mathit{#1}}}}
\newcommand{\sub}[1]{[{#1}]\,}                   % substitution
\newcommand{\mfix}{\ms{fix}}
\newcommand{\fix}[1]{\mfix~{#1}~\ms{is}~}
\newcommand{\fixle}[2]{\fix{{#1} \le {#2}}}
\newcommand{\tuple}[1]{\langle{#1}\rangle}
\newcommand{\pair}[2]{\tuple{{#1},\,{#2}}}
\newcommand{\triple}[3]{\tuple{{#1},\,{#2},\,{#3}}}
\newcommand{\triv}{\tuple{}}
%% \newcommand{\unit}{\varepsilon}
\newcommand{\unit}{\bot}
\newcommand{\letv}[2]{\ms{let}~{#1}={#2}~\ms{in}~}
\newcommand{\ein}{\ms{in}}
\newcommand{\inj}[2]{\ein_{#1}\,{#2}}

\newcommand{\cto}{\shortrightarrow}
\newcommand{\case}[5]{%%
  \ms{case}({#1};\; \inj{1}{#2} \cto {#3};\; \inj{2}{#4} \cto {#5})}

\newcommand{\disc}[1]{\ms{disc}\;{#1}}
\renewcommand{\disc}[1]{[{#1}]}
\newcommand{\letdisc}[2]{\letv{\disc{#1}}{#2}}
\newcommand{\splitsum}[1]{\textsf{split-sum}\; {#1}}

\newcommand{\forin}[1]{\textstyle\bigvee({#1})\ }
\newcommand{\setelim}[2]{\forin{{#1} \in {#2}}}
\newcommand{\single}[1]{\{{#1}\}}

\newcommand{\efalse}{\ms{false}}
\newcommand{\etrue}{\ms{true}}
\newcommand{\when}[2]{\ms{when}~{#1}~\ms{then}~{#2}}
\newcommand{\ifthen}[3]{\ms{if}~{#1}~\ms{then}~{#2}~\ms{else}~{#3}}

\newcommand{\setlit}[1]{\{{#1}\}}
\newcommand{\setfor}[2]{\setlit{{#1}~|~{#2}}}
\newcommand{\isin}{\mathrel{{\in}\hspace{0.15ex}?}}

%% semantics
\newcommand{\den}[1]{\ensuremath{\llbracket{#1}\rrbracket}} % denotation
% denotation for vertically large things
\newcommand{\Den}[1]{{\left\llbracket{#1}\right\rrbracket}}
\newcommand{\one}{\ensuremath{\mathbf{1}}}
\newcommand{\two}{\ensuremath{\mathbf{2}}}
%% \newcommand{\Arr}{\supset}
%% \newcommand{\Arr}{\rightarrowtriangle}
%% \newcommand{\arr}{\Rightarrow}
%% \newcommand{\lol}{\multimap}
%% \newcommand{\Disc}[1]{\ensuremath{\ms{Disc}\;{#1}}}
%% \newcommand{\slF}{\ensuremath{\mathcal{F}}}
%% \newcommand{\slU}{\ensuremath{\mathcal{U}}}
%% \newcommand{\stringset}{\mathbb{S}}
%% \newcommand{\natposet}{\N_\le}
%% \newcommand{\below}[2]{\ensuremath{\downarrow\!({#1 : #2})}}
%% \newcommand{\lfpin}[2]{\text{lfp}\,{#2} \in {#1}}

%% change types, derivatives, etc
\newcommand{\zero}{\mb{0}}
\newcommand{\Changes}[2]{\GD_{#1}({#2})}
\newcommand{\Ch}{\Delta}

%% categories
\newcommand{\cSet}{\ms{Set}}
\newcommand{\cPoset}{\ms{Poset}}
\newcommand{\cSL}{\ms{SemiLat}}

%% theorem environments
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lemma}
\newtheorem{property}{Property}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{observation}{Observation}

%% for rule names.
\newcommand{\rn}[1]{\mathsz{8pt}{#1}}
\newcommand{\rt}[1]{\textsc{#1}}


%% We no longer have \Down in the core theory, hence the \todo's here.
%% TODO: Once we've eliminated all uses, delete this.
\newcommand{\Down}[1]{\todo{{\downarrow}\,{#1}}}
\newcommand{\downintro}[1]{\todo{{\downarrow}\,\{#1\}}}
\newcommand{\downelim}[3]{\todo{\forin{#1 \in #2} #3}}
\newcommand{\fixin}[2]{\todo{\fix{{#1} \in {#2}}}}
\newcommand{\fixintype}[1]{\todo{\under{\downarrow{}fix}{#1}}}
